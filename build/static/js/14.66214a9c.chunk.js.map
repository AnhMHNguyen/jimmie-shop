{"version":3,"sources":["redux/order/order.selectors.js","pages/adminOrderPage/adminOrderPage.styles.jsx","pages/adminOrderPage/adminOrderPage.component.jsx"],"names":["selectOrder","state","order","selectOrderDetails","createSelector","selectOrderList","orderList","selectOrderMessage","message","selectOrderError","loading","error","AdminOrderPageContainer","styled","div","ContentContainer","TitleContainer","HeaderContainer","HeaderBlock","DetailsContainer","DetailsBlock","OrderedItemContainer","DetailsButton","CgMoreVertical","AdminOrderPage","dispatch","useDispatch","useSelector","useState","delivered","setDelivered","useEffect","allOrdersStart","alert","map","_id","createdAt","split","user","email","isDelivered","deliveredAt","name","value","onChange","orderId","window","confirm","deliveredOrderStart","disabled","shippingAddress","fName","lName","phoneNumber","address2","address1","city","province","country","postalCode","orderItems","item","qty","paymentMethod","isPaid","paidAt","itemsPrice","shippingPrice","taxPrice","totalPrice","to"],"mappings":"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","file":"static/js/14.66214a9c.chunk.js","sourcesContent":["import { createSelector } from \"reselect\";\r\n\r\nconst selectOrder = state => state.order;\r\n\r\nexport const selectOrderDetails = createSelector(\r\n  [selectOrder],\r\n  order => order.order\r\n);\r\n\r\nexport const selectOrderList = createSelector(\r\n  [selectOrder],\r\n  order => order.orderList\r\n);\r\n\r\nexport const selectOrderMessage = createSelector(\r\n  [selectOrder],\r\n  order => order.message\r\n);\r\n\r\nexport const selectIsOrderLoading = createSelector(\r\n  [selectOrder],\r\n  order => order.loading\r\n); \r\nexport const selectOrderError = createSelector(\r\n  [selectOrder],\r\n  order => order.error\r\n); ","import styled from \"styled-components\";\r\nimport {CgMoreVertical} from 'react-icons/cg'\r\n\r\nexport const AdminOrderPageContainer = styled.div`\r\n  padding: 120px 0 50px 0;\r\n  width: 100%;\r\n`;\r\n\r\nexport const ContentContainer = styled.div`\r\n  width: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 30px auto;\r\n`;\r\n\r\nexport const TitleContainer = styled.div`\r\n  font-weight: 300;\r\n  font-size: 35px;\r\n  letter-spacing: .1rem;\r\n  font-family: 'Arima Madurai', cursive;\r\n`;\r\n\r\nexport const HeaderContainer = styled.div`\r\n  background-color: #f6f4f1;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n  padding: 5px 15px;\r\n  font-weight: 600;\r\n`;\r\n\r\nexport const HeaderBlock = styled.div`\r\n  width: 20%;\r\n\r\n  &:first-child{\r\n    width: 10%;\r\n  }\r\n  &:nth-child(5){\r\n    width: 25%;\r\n  }\r\n\r\n  &:last-child{\r\n    width: 5%;\r\n  }\r\n`;\r\n\r\nexport const DetailsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px 15px;\r\n  font-size: 15px;\r\n  width: 100%;\r\n  align-items: center;\r\n  &:nth-child(even){\r\n    background-color: #EEEEEE;\r\n  }\r\n`;\r\n\r\nexport const DetailsBlock = styled.div`\r\n  width: 20%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n\r\n  &:first-child{\r\n    width: 10%;\r\n  }\r\n\r\n  &:nth-child(5){\r\n    width: 25%;\r\n  }\r\n\r\n  &:last-child{\r\n    width: 5%;\r\n  }\r\n\r\n  select {\r\n    background-color: black;\r\n    color: white;\r\n    width: 40%;\r\n    margin-top: 3px;\r\n    padding: 3px 5px;\r\n  }\r\n`;\r\n\r\nexport const OrderedItemContainer = styled.div`\r\n  display: flex;\r\n  span:first-child {\r\n    width: 80%;\r\n  }\r\n  span:last-child {\r\n    width: 20%;\r\n  }\r\n`;\r\n\r\nexport const DetailsButton = styled(CgMoreVertical)`\r\n  width: 20px;\r\n  height: 20px;\r\n  color: rgb(192, 67, 43);\r\n  &:hover {\r\n    color: gray;\r\n  }\r\n`;","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Spinner from '../../components/spinner/spinner.component'\r\nimport ErrorFallBack from '../../components/error-boundary/error-boundary.component'\r\nimport { selectOrderList, selectOrderMessage, selectOrderError } from '../../redux/order/order.selectors.js'\r\nimport { allOrdersStart, deliveredOrderStart } from '../../redux/order/order.actions.js'\r\nimport { AdminOrderPageContainer, ContentContainer, TitleContainer, HeaderContainer, HeaderBlock, DetailsContainer, DetailsBlock, OrderedItemContainer, DetailsButton } from './adminOrderPage.styles'\r\n\r\nconst AdminOrderPage = () => {\r\n  const dispatch = useDispatch()\r\n  const orderList = useSelector(selectOrderList)\r\n  const message = useSelector(selectOrderMessage)\r\n  const error = useSelector(selectOrderError)\r\n  const [ delivered, setDelivered] = useState(false)\r\n\r\n  useEffect(() => {\r\n    dispatch(allOrdersStart())\r\n    if (message) alert(message)\r\n  },[dispatch, message])\r\n\r\n  const deliveredHandler = (orderId) => {\r\n    if (window.confirm('Are you sure this order is delivered ?')) {\r\n      setDelivered(true)\r\n      dispatch(deliveredOrderStart(orderId))\r\n    }\r\n  }\r\n\r\n  return error ? <ErrorFallBack error={error} /> : \r\n    (error === null && orderList === null) ? <Spinner /> : (\r\n    <AdminOrderPageContainer>\r\n      <ContentContainer>\r\n        <TitleContainer>Order List</TitleContainer>\r\n        <HeaderContainer>\r\n          <HeaderBlock>Id</HeaderBlock>\r\n          <HeaderBlock>Status</HeaderBlock>\r\n          <HeaderBlock>Shipping</HeaderBlock>\r\n          <HeaderBlock>Ordered Items</HeaderBlock>\r\n          <HeaderBlock>Payment</HeaderBlock>\r\n          <HeaderBlock></HeaderBlock>\r\n        </HeaderContainer>\r\n        { orderList.map(order => \r\n          <DetailsContainer key={order._id}>\r\n            <DetailsBlock>{order._id}</DetailsBlock>\r\n            <DetailsBlock>\r\n              <span>Date Ordered: {order.createdAt.split('T')[0]}</span>\r\n              <span>User Email: {order.user.email}</span>\r\n              <span>Order Status: {order.isDelivered ? `Delivered on ${order.deliveredAt.split('T')[0]}` : \r\n                <select name=\"delivered\" value={delivered} onChange={() => deliveredHandler(order._id)} disabled={delivered}>\r\n                  <option value=\"false\">Processing</option>\r\n                  <option value=\"true\">Delivered</option>\r\n                </select>\r\n              }\r\n              </span>\r\n            </DetailsBlock>\r\n            <DetailsBlock>\r\n              <span>{order.shippingAddress.fName} {order.shippingAddress.lName}</span>\r\n              <span>{order.shippingAddress.phoneNumber}</span>\r\n              {order.shippingAddress.address2 && <span>{order.shippingAddress.address2}</span>}\r\n              <span>{order.shippingAddress.address1}</span>\r\n              <span>{order.shippingAddress.city} {order.shippingAddress.province} {order.shippingAddress.country} {order.shippingAddress.postalCode}</span>\r\n            </DetailsBlock>\r\n            <DetailsBlock>\r\n              {order.orderItems.map(item => \r\n                <OrderedItemContainer key={item._id}>\r\n                  <span>{item.name}</span>\r\n                  <span>x {item.qty}</span>\r\n                </OrderedItemContainer>  \r\n              )}\r\n            </DetailsBlock>\r\n            <DetailsBlock>\r\n              <span>Payment Method: {order.paymentMethod}</span>\r\n              <span>Paid Status: {order.isPaid ? order.paidAt.split('T')[0] : 'Not Paid / Problem with payment'}</span>\r\n              <span>Subtotal: ${order.itemsPrice}</span>\r\n              <span>Shipping Fee: ${order.shippingPrice}</span>\r\n              <span>Tax: ${order.taxPrice}</span>\r\n              <span><strong>Total Amount:</strong> ${order.totalPrice}</span>\r\n            </DetailsBlock>\r\n            <DetailsBlock>\r\n              <Link to={`/order/${order._id}`}><DetailsButton /></Link>\r\n            </DetailsBlock>\r\n          </DetailsContainer>  \r\n        )}\r\n      </ContentContainer>\r\n      \r\n    </AdminOrderPageContainer>\r\n  )\r\n}\r\n\r\nexport default AdminOrderPage\r\n"],"sourceRoot":""}