{"version":3,"sources":["pages/adminUserPage/adminUserPage.styles.jsx","pages/adminUserPage/adminUserPage.component.jsx"],"names":["AdminUserPageContainer","styled","div","ContentContainer","TitleContainer","HeaderContainer","HeaderBlock","DetailsContainer","DetailsBlock","AdminUserPage","dispatch","useDispatch","userList","useSelector","selectUserList","message","selectUserMessage","error","selectUserError","useEffect","fetchUsersStart","alert","map","user","_id","name","email","createdAt","split","lastLogin","value","isAdmin","onChange","window","confirm","adminUserStart","adminHandler"],"mappings":"uMAEaA,EAAyBC,IAAOC,IAAV,wEAKtBC,EAAmBF,IAAOC,IAAV,8GAOhBE,EAAiBH,IAAOC,IAAV,yIAOdG,EAAkBJ,IAAOC,IAAV,+LAUfI,EAAcL,IAAOC,IAAV,2KAgBXK,EAAmBN,IAAOC,IAAV,+NAYhBM,EAAeP,IAAOC,IAAV,oR,OCSVO,UA5DO,WACpB,IAAMC,EAAWC,cACXC,EAAWC,YAAYC,KACvBC,EAAUF,YAAYG,KACtBC,EAAQJ,YAAYK,KAG1BC,qBAAU,WACRT,EAASU,eACM,OAAZL,GACDM,MAAMN,KAER,CAACL,EAAUK,IAcb,OAAOE,EAAQ,cAAC,IAAD,CAAeA,MAAOA,IACnCA,GAAUL,EACV,cAACZ,EAAD,UACE,eAACG,EAAD,WACE,cAACC,EAAD,wBACA,eAACC,EAAD,WACE,cAACC,EAAD,iBACA,cAACA,EAAD,2BACA,cAACA,EAAD,oBACA,cAACA,EAAD,yBACA,cAACA,EAAD,0BACA,cAACA,EAAD,0BAEDM,EAASU,KAAI,SAAAC,GAAI,OAChB,eAAChB,EAAD,WACE,cAACC,EAAD,UAAee,EAAKC,MACpB,cAAChB,EAAD,UAAee,EAAKE,OACpB,cAACjB,EAAD,UAAee,EAAKG,QACpB,cAAClB,EAAD,UAAee,EAAKI,UAAUC,MAAM,KAAK,KACzC,cAACpB,EAAD,UAAee,EAAKM,UAAYN,EAAKM,UAAUD,MAAM,KAAK,GAAK,QAC/D,cAACpB,EAAD,UACE,yBAAQiB,KAAK,UAAUK,MAAOP,EAAKQ,QAASC,SAAU,kBAjC7C,SAACT,GAChBA,EAAKQ,QACHE,OAAOC,QAAQ,2DACjBxB,EAASyB,YAAeZ,EAAKC,IAAK,CAAC,SAAU,KAG3CS,OAAOC,QAAQ,uDACjBxB,EAASyB,YAAeZ,EAAKC,IAAK,CAAC,SAAU,KA0BqBY,CAAab,IAAzE,UACE,wBAAQO,MAAM,OAAd,kBACA,wBAAQA,MAAM,QAAd,0BATiBP,EAAKC,aAbZ,cAAC,IAAD","file":"static/js/16.8ae74f0f.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const AdminUserPageContainer = styled.div`\r\n  padding: 120px 0 50px 0;\r\n  width: 100%;\r\n`;\r\n\r\nexport const ContentContainer = styled.div`\r\n  width: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 30px auto;\r\n`;\r\n\r\nexport const TitleContainer = styled.div`\r\n  font-weight: 300;\r\n  font-size: 35px;\r\n  letter-spacing: .1rem;\r\n  font-family: 'Arima Madurai', cursive;\r\n`;\r\n\r\nexport const HeaderContainer = styled.div`\r\n  background-color: #f6f4f1;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n  padding: 5px 15px;\r\n  font-weight: 600;\r\n`;\r\n\r\nexport const HeaderBlock = styled.div`\r\n  width: 20%;\r\n\r\n  &:first-child{\r\n    width: 10%;\r\n  }\r\n  \r\n  &:nth-child(2){\r\n    width: 15%;\r\n  }\r\n\r\n  &:last-child{\r\n    width: 15%;\r\n  }\r\n`;\r\n\r\nexport const DetailsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px 15px;\r\n  font-size: 15px;\r\n  width: 100%;\r\n  align-items: center;\r\n  &:nth-child(even){\r\n    background-color: #EEEEEE;\r\n  }\r\n`;\r\n\r\nexport const DetailsBlock = styled.div`\r\n  width: 20%;\r\n\r\n  &:first-child{\r\n    width: 10%;\r\n  }\r\n\r\n  &:nth-child(2){\r\n    width: 15%;\r\n  }\r\n\r\n  &:last-child{\r\n    width: 15%;\r\n  }\r\n  select {\r\n    background-color: black;\r\n    color: white;\r\n    width: 70px;\r\n    padding: 3px 5px;\r\n  }\r\n`;","import React, {useEffect} from 'react'\r\nimport { useSelector, useDispatch} from 'react-redux'\r\nimport Spinner from '../../components/spinner/spinner.component'\r\nimport ErrorFallBack from '../../components/error-boundary/error-boundary.component'\r\nimport { selectUserList, selectUserMessage, selectUserError } from '../../redux/user/user.selectors'\r\nimport { adminUserStart, fetchUsersStart } from '../../redux/user/user.actions'\r\nimport { AdminUserPageContainer, ContentContainer, TitleContainer, HeaderContainer, HeaderBlock, DetailsContainer, DetailsBlock } from './adminUserPage.styles'\r\n\r\nconst AdminUserPage = () => {\r\n  const dispatch = useDispatch()\r\n  const userList = useSelector(selectUserList)\r\n  const message = useSelector(selectUserMessage)\r\n  const error = useSelector(selectUserError)\r\n  \r\n\r\n  useEffect(() => {\r\n    dispatch(fetchUsersStart())\r\n    if(message !== null) {\r\n      alert(message)\r\n    }\r\n  },[dispatch, message])\r\n\r\n  const adminHandler = (user) => {\r\n    if (user.isAdmin){\r\n      if (window.confirm('Are you sure you want to remove this user from admin ?')) {\r\n        dispatch(adminUserStart(user._id, {'isAdmin':false}))\r\n      }\r\n    } else {\r\n      if (window.confirm('Are you sure you want to make this user an admin ?')) {\r\n        dispatch(adminUserStart(user._id, {'isAdmin':true}))\r\n      }\r\n    }\r\n  }\r\n\r\n  return error ? <ErrorFallBack error={error} /> : \r\n  (!error && !userList) ? <Spinner/> : (\r\n    <AdminUserPageContainer>\r\n      <ContentContainer>\r\n        <TitleContainer>User List</TitleContainer>\r\n        <HeaderContainer>\r\n          <HeaderBlock>ID</HeaderBlock>\r\n          <HeaderBlock>Display Name</HeaderBlock>\r\n          <HeaderBlock>Email</HeaderBlock>\r\n          <HeaderBlock>Created At</HeaderBlock>\r\n          <HeaderBlock>Last Signin</HeaderBlock>\r\n          <HeaderBlock>Is Admin</HeaderBlock>\r\n        </HeaderContainer>\r\n        {userList.map(user => \r\n          <DetailsContainer key={user._id}>\r\n            <DetailsBlock>{user._id}</DetailsBlock>\r\n            <DetailsBlock>{user.name}</DetailsBlock>\r\n            <DetailsBlock>{user.email}</DetailsBlock>\r\n            <DetailsBlock>{user.createdAt.split('T')[0]}</DetailsBlock>\r\n            <DetailsBlock>{user.lastLogin ? user.lastLogin.split('T')[0] : \"NaN\"}</DetailsBlock>\r\n            <DetailsBlock>\r\n              <select name=\"isAdmin\" value={user.isAdmin} onChange={() => adminHandler(user)}>\r\n                <option value=\"true\">True</option>\r\n                <option value=\"false\">False</option>\r\n              </select>\r\n            </DetailsBlock>\r\n          </DetailsContainer>  \r\n        )}\r\n      </ContentContainer>\r\n      \r\n    </AdminUserPageContainer>\r\n  )\r\n}\r\n\r\nexport default AdminUserPage\r\n"],"sourceRoot":""}