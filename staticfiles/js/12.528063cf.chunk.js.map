{"version":3,"sources":["components/form-input/form-input.styles.jsx","components/form-input/form-input.component.jsx","redux/shop/shop.selectors.js","components/edit-product/edit-product.styles.jsx","components/edit-product/edit-product.component.jsx","pages/adminProductPage/adminProductPage.styles.jsx","pages/adminProductPage/adminProductPage.component.jsx"],"names":["subColor","shrinkLabelStyles","css","GroupContainer","styled","div","FormInputContainer","input","FormInputLabel","label","FormInput","handleChange","otherProps","onChange","className","value","length","selectShop","state","shop","selectShopCollections","createSelector","collections","selectShopDirectory","directory","selectShopProduct","product","selectIsCollectionFetching","isFetching","selectIsCollectionLoaded","selectShopMessage","message","selectImageMessage","imageMessage","selectShopFeatured","filter","item","_id","selectShopError","error","selectReviewError","errorReview","EditProductContainer","TitleContainer","ImageLabel","CategoryContainer","NumberLabel","NumberInput","DescriptionContainer","EditProduct","close","dispatch","useDispatch","useSelector","useState","name","price","image","brand","category","countInStock","description","productCredentials","setCredentials","useEffect","handleSubmit","event","a","preventDefault","console","log","updateProductStart","uploadFileHandler","e","file","target","files","formData","FormData","append","uploadImageStart","onSubmit","type","required","id","map","cat","index","rows","style","width","AdminProductPageContainer","ContentContainer","AddButton","CustomButton","HeaderContainer","HeaderBlock","DetailsContainer","DetailsBlock","EditButton","FiEdit","DeleteButton","RiDeleteBin5Line","AdminProductPage","infoEdit","setInfoEdit","productEdit","setProductEdit","collection","isLoaded","fetchCollectionsStart","alert","editHandler","closeHandler","onClick","createProductStart","src","alt","rating","numReviews","createdAt","split","window","confirm","deleteProductStart","deleteHandler","show","click"],"mappings":"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","file":"static/js/12.528063cf.chunk.js","sourcesContent":["import styled, { css } from 'styled-components';\r\n\r\nconst subColor = 'grey';\r\nconst mainColor = 'black';\r\n\r\nconst shrinkLabelStyles = css`\r\n  top: -14px;\r\n  font-size: 12px;\r\n  color: ${mainColor};\r\n`;\r\n\r\nexport const GroupContainer = styled.div`\r\n  position: relative;\r\n  margin: 20px 0;\r\n  input[type='password'] {\r\n    letter-spacing: 0.3em;\r\n  }\r\n`;\r\n\r\nexport const FormInputContainer = styled.input`\r\n  background: none;\r\n  background-color: white;\r\n  color: ${subColor};\r\n  font-size: 15px;\r\n  padding: 10px 10px 10px 5px;\r\n  display: block;\r\n  width: 100%;\r\n  border: none;\r\n  border-radius: 0;\r\n  border-bottom: 1px solid ${subColor};\r\n  margin: 25px 0;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  &:focus ~ label {\r\n    ${shrinkLabelStyles}\r\n  }\r\n`;\r\n\r\nexport const FormInputLabel = styled.label`\r\n  color: ${subColor};\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  position: absolute;\r\n  pointer-events: none;\r\n  left: 5px;\r\n  top: 10px;\r\n  transition: 300ms ease all;\r\n  &.shrink {\r\n    ${shrinkLabelStyles}\r\n  }\r\n`;","import React from 'react';\r\nimport {\r\n  GroupContainer,\r\n  FormInputContainer,\r\n  FormInputLabel\r\n} from './form-input.styles';\r\n\r\nconst FormInput = ({ handleChange, label, ...otherProps }) => (\r\n  <GroupContainer>\r\n    <FormInputContainer onChange={handleChange} {...otherProps}/>\r\n    { label ? \r\n      (<FormInputLabel className={otherProps.value.length ? 'shrink' : ''}>\r\n        {label}\r\n      </FormInputLabel>)\r\n      : null}\r\n  </GroupContainer>\r\n\r\n\r\n);\r\n\r\nexport default FormInput;","import { createSelector } from \"reselect\";\r\n\r\nconst selectShop = state => state.shop;\r\n\r\nexport const selectShopCollections = createSelector(\r\n  [selectShop],\r\n  shop => shop.collections\r\n);\r\n\r\nexport const selectShopDirectory = createSelector(\r\n  [selectShop],\r\n  shop => shop.directory\r\n);\r\n\r\nexport const selectShopProduct = createSelector(\r\n  [selectShop],\r\n  shop => shop.product\r\n);\r\n\r\nexport const selectIsCollectionFetching = createSelector(\r\n  [selectShop],\r\n  shop => shop.isFetching\r\n); \r\n\r\nexport const selectIsCollectionLoaded = createSelector(\r\n  [selectShop],\r\n  shop => !!shop.collections\r\n)\r\n\r\nexport const selectShopMessage = createSelector(\r\n  [selectShop],\r\n  shop => shop.message\r\n);\r\n\r\nexport const selectImageMessage = createSelector(\r\n  [selectShop],\r\n  shop => shop.imageMessage\r\n);\r\n\r\nexport const selectShopFeatured = createSelector(\r\n  [selectShopCollections],\r\n  collections => collections ? collections.filter(item => item._id < 9) : []\r\n)\r\n\r\nexport const selectShopError = createSelector(\r\n  [selectShop],\r\n  shop => shop.error\r\n)\r\nexport const selectReviewError = createSelector(\r\n  [selectShop],\r\n  shop => shop.errorReview\r\n)\r\n","import styled from \"styled-components\";\r\n\r\nexport const EditProductContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const TitleContainer = styled.div`\r\n  font-weight: 300;\r\n  font-size: 28px;\r\n  font-family: 'Arima Madurai', cursive;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const ImageLabel= styled.div`\r\n  display: flex;\r\n  gap: 20px;\r\n\r\n  .label {\r\n    font-size: 15px;\r\n    color: black;\r\n  }\r\n`;\r\n\r\nexport const CategoryContainer = styled.div`\r\n  display: flex;\r\n  gap: 30px;\r\n  margin-top: 25px;\r\n  span {\r\n    font-size: 15px;\r\n    color: black;\r\n  }\r\n\r\n  select {\r\n    width: 130px;\r\n    padding: 5px;\r\n    \r\n  }\r\n`;\r\n\r\nexport const NumberLabel = styled.div`\r\n  margin-top: 25px;\r\n  display: flex;\r\n  font-size: 15px;\r\n  gap: 20px;\r\n  color: black;\r\n  span {\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\nexport const NumberInput = styled.div`\r\n  display: flex;\r\n  gap: 20px;\r\n  input {\r\n    padding: 5px 7px;\r\n    width: 50%;\r\n    border: none;\r\n    border-bottom: 1px solid black;\r\n    &:focus{\r\n      outline: none;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DescriptionContainer = styled.div`\r\n  margin: 25px 0 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  span {\r\n    font-size: 15px;\r\n    color: black;\r\n  }\r\n  textarea {\r\n    padding: 5px;\r\n  }\r\n`;\r\n","import React, {useState, useEffect} from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport FormInput from '../form-input/form-input.component'\r\nimport CustomButton from '../custom-button/custom-button.component'\r\nimport { uploadImageStart, updateProductStart } from '../../redux/shop/shop.actions'\r\nimport { selectImageMessage } from '../../redux/shop/shop.selectors'\r\nimport { EditProductContainer, TitleContainer, ImageLabel, CategoryContainer, NumberLabel, NumberInput, DescriptionContainer } from './edit-product.styles'\r\n\r\nconst EditProduct = ({ product, close }) => {\r\n  const dispatch = useDispatch()\r\n  const imageMessage = useSelector(selectImageMessage)\r\n  const [ productCredentials, setCredentials ] = useState ({\r\n    name: '',\r\n    price: 0,\r\n    image: '',\r\n    brand: '',\r\n    category: '',\r\n    countInStock : 0,\r\n    description: ''\r\n  });\r\n  const { name, price, image, brand, category, countInStock, description } = productCredentials;\r\n  const categoryOption = ['clothes', 'collars', 'hats', 'furniture', 'toys']\r\n\r\n  useEffect(() => {\r\n    if(product !== null) setCredentials({...product})\r\n    if(imageMessage !== null) setCredentials({...productCredentials, image: imageMessage})\r\n  }, [product, imageMessage])\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n    close()\r\n    console.log(product._id)\r\n    dispatch(updateProductStart({\r\n      'name' : name,\r\n      'price' : price,\r\n      'brand': brand,\r\n      'category': category,\r\n      'countInStock' : countInStock,\r\n      'description': description\r\n    }, product._id))\r\n    // dispatch(updateUserStart({email, password, name}));\r\n  };\r\n\r\n  const uploadFileHandler = async (e) => {\r\n    const file = e.target.files[0]\r\n    if(file){\r\n      const formData = new FormData()\r\n      formData.append('image', file)\r\n      formData.append('product_id', product._id)\r\n      dispatch(uploadImageStart(formData))\r\n    }\r\n  }\r\n\r\n  const handleChange = event => {\r\n    const {name, value} = event.target;\r\n    setCredentials({...productCredentials, [name]: value});\r\n  };\r\n  return (\r\n    <EditProductContainer>\r\n      <TitleContainer>Edit Product</TitleContainer>\r\n      <form onSubmit={handleSubmit}>\r\n      <FormInput \r\n        type='text'\r\n        name='name'\r\n        value={name}\r\n        onChange={handleChange}\r\n        label='Name'\r\n        required />\r\n       <ImageLabel>\r\n         <span className=\"label\">Image</span>\r\n         <span name='image' onChange={handleChange}>{image}</span>\r\n       </ImageLabel>\r\n      <input type=\"file\" id='image-file' onChange={uploadFileHandler} />\r\n      <CategoryContainer>\r\n        <span className=\"label\">Category</span>\r\n        <select name='category' onChange={handleChange} value={category}>\r\n          {categoryOption.map((cat, index) => \r\n            <option key={index} value={cat}>{cat}</option>\r\n          )}\r\n        </select>\r\n      </CategoryContainer>\r\n      <NumberLabel>\r\n        <span>In Stock</span>\r\n        <span>Price</span>\r\n      </NumberLabel>\r\n      <NumberInput>\r\n        <input type='number' name='countInStock' onChange={handleChange} value={countInStock} required />\r\n        <input type='number' name='price' onChange={handleChange} value={price} required />\r\n      </NumberInput>\r\n      <DescriptionContainer>\r\n        <span>Description</span>\r\n        <textarea name='description' onChange={handleChange} value={description} rows='5'/>\r\n      </DescriptionContainer>\r\n      <CustomButton type='submit' style={{ width:'100%' }}>Update Changes</CustomButton>\r\n      </form>\r\n    </EditProductContainer>\r\n  )\r\n}\r\n\r\nexport default EditProduct\r\n","import styled from \"styled-components\";\r\nimport CustomButton from \"../../components/custom-button/custom-button.component\";\r\nimport { FiEdit } from 'react-icons/fi'\r\nimport { RiDeleteBin5Line } from 'react-icons/ri'\r\n\r\nexport const AdminProductPageContainer = styled.div`\r\n  padding: 120px 0 50px 0;\r\n  width: 100%;\r\n`;\r\n\r\nexport const ContentContainer = styled.div`\r\n  width: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 30px auto;\r\n`;\r\n\r\nexport const TitleContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  span {\r\n    font-weight: 300;\r\n    font-size: 35px;\r\n    letter-spacing: .1rem;\r\n    font-family: 'Arima Madurai', cursive;\r\n  }\r\n`;\r\n\r\nexport const AddButton = styled(CustomButton)`\r\n\r\n`;\r\n\r\nexport const HeaderContainer = styled.div`\r\n  background-color: #f6f4f1;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n  padding: 5px 15px;\r\n  font-weight: 600;\r\n`;\r\n\r\nexport const HeaderBlock = styled.div`\r\n  width: 10%;\r\n\r\n  &:first-child{\r\n    width: 5%;\r\n  }\r\n  &:nth-child(2){\r\n    width: 15%;\r\n  }\r\n  &:nth-child(3){\r\n    width: 25%;\r\n  }\r\n  &:last-child{\r\n    width: 5%;\r\n  }\r\n`;\r\n\r\n\r\nexport const DetailsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px 15px;\r\n  font-size: 15px;\r\n  width: 100%;\r\n  align-items: center;\r\n  &:nth-child(even){\r\n    background-color: #EEEEEE;\r\n  }\r\n`;\r\n\r\nexport const DetailsBlock = styled.div`\r\n  width: 10%;\r\n  &:first-child{\r\n    width: 5%;\r\n  }\r\n  &:nth-child(2){\r\n    width: 15%;\r\n    img {\r\n      width: 40%\r\n    }\r\n  }\r\n  &:nth-child(3){\r\n    width: 25%;\r\n  }\r\n  &:nth-child(4){\r\n    text-transform: capitalize;\r\n  }\r\n  &:last-child{\r\n    width: 5%;\r\n    display: flex;\r\n    align-items: center;\r\n    /* font-size: 12px;\r\n    letter-spacing: .1rem; */\r\n  }\r\n`;\r\n\r\nexport const EditButton = styled(FiEdit)`\r\n  color: rgb(192, 67, 43);\r\n  /* margin: 0 15px; */\r\n  width: 50%;\r\n  cursor: pointer;\r\n  \r\n  &:hover {\r\n    color: gray;\r\n  }\r\n`;\r\n\r\nexport const DeleteButton = styled(RiDeleteBin5Line)`\r\n  /* margin: 0 15px; */\r\n  cursor: pointer;\r\n  color: gray;\r\n  width: 50%;\r\n  /* height: 10%; */\r\n  &:hover {\r\n    color: rgb(192, 67, 43);\r\n  }\r\n`;\r\n","import React, {useState, useEffect} from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport Spinner from '../../components/spinner/spinner.component'\r\nimport SideDrawer from '../../components/side-drawer/side-drawer.component'\r\nimport Backdrop from '../../components/backdrop/backdrop.component'\r\nimport EditProduct from '../../components/edit-product/edit-product.component'\r\nimport ErrorFallBack from '../../components/error-boundary/error-boundary.component'\r\nimport { selectShopCollections, selectIsCollectionLoaded, selectShopMessage, selectShopProduct, selectShopError } from '../../redux/shop/shop.selectors'\r\nimport { fetchCollectionsStart, createProductStart, deleteProductStart} from '../../redux/shop/shop.actions'\r\nimport { AdminProductPageContainer, ContentContainer, TitleContainer, AddButton, HeaderContainer, HeaderBlock, DetailsContainer, DetailsBlock, EditButton, DeleteButton } from './adminProductPage.styles'\r\n\r\nconst AdminProductPage = () => {\r\n  const dispatch = useDispatch()\r\n  const [ infoEdit, setInfoEdit ] = useState(false)\r\n  const [ productEdit, setProductEdit ] = useState(null)\r\n  const product = useSelector(selectShopProduct)\r\n  const message = useSelector(selectShopMessage)\r\n  const collection = useSelector(selectShopCollections)\r\n  const isLoaded = useSelector(selectIsCollectionLoaded)\r\n  const error = useSelector(selectShopError)\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCollectionsStart())\r\n    if( message !== null ) alert(message)\r\n    if( product !== null ) editHandler(product) \r\n  },[dispatch, message, product]) \r\n\r\n  const editHandler = (item) => {\r\n    setInfoEdit(true)\r\n    setProductEdit(item)\r\n  }\r\n\r\n  const closeHandler = () => {\r\n    setInfoEdit(false)\r\n  }\r\n\r\n  const deleteHandler = (item) => {\r\n    if (window.confirm('Are you sure you wish to delete this item?')) {\r\n      dispatch(deleteProductStart(item._id))\r\n    }\r\n  }\r\n\r\n  return error ? <ErrorFallBack error={error} /> : \r\n  (!isLoaded || collection === null) ? <Spinner /> : (\r\n    <AdminProductPageContainer>\r\n      <ContentContainer>\r\n        <TitleContainer>\r\n          <span>Product List</span>\r\n          <AddButton onClick={() => dispatch(createProductStart())}>+ New Product</AddButton>\r\n        </TitleContainer>\r\n\r\n        <HeaderContainer>\r\n          <HeaderBlock>ID</HeaderBlock>\r\n          <HeaderBlock>Image</HeaderBlock>\r\n          <HeaderBlock>Name</HeaderBlock>\r\n          <HeaderBlock>Category</HeaderBlock>\r\n          <HeaderBlock>In Stock</HeaderBlock>\r\n          <HeaderBlock>Price</HeaderBlock>\r\n          <HeaderBlock>Rating</HeaderBlock>\r\n          <HeaderBlock>Created At</HeaderBlock>\r\n          <HeaderBlock></HeaderBlock>\r\n        </HeaderContainer>\r\n\r\n        {collection.map(item => \r\n          <DetailsContainer key={item._id}>\r\n            <DetailsBlock>{item._id}</DetailsBlock>  \r\n            <DetailsBlock><img src={item.image} alt=\"item.name\" /></DetailsBlock>  \r\n            <DetailsBlock>{item.name}</DetailsBlock>  \r\n            <DetailsBlock>{item.category}</DetailsBlock>  \r\n            <DetailsBlock>{item.countInStock}</DetailsBlock>  \r\n            <DetailsBlock>${item.price}</DetailsBlock>  \r\n            <DetailsBlock>{item.rating === null ? \"NaN\" : `${item.rating}/${item.numReviews}`}</DetailsBlock>  \r\n            <DetailsBlock>{item.createdAt.split('T')[0]}</DetailsBlock>  \r\n            <DetailsBlock>\r\n              <EditButton onClick={() => editHandler(item)}/> \r\n              | \r\n              <DeleteButton onClick={() => deleteHandler(item)}/>\r\n            </DetailsBlock>  \r\n          </DetailsContainer>\r\n        )}\r\n      </ContentContainer>\r\n      <SideDrawer show={infoEdit}>\r\n        <EditProduct product={productEdit} close={closeHandler}/>\r\n      </SideDrawer>\r\n      { infoEdit && <Backdrop click={closeHandler} />}\r\n    </AdminProductPageContainer>\r\n  )\r\n}\r\n\r\nexport default AdminProductPage\r\n"],"sourceRoot":""}